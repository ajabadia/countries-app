<table class="country-table admin-table">
  <thead>
    <tr>
      <th></th>
      @for (col of columns; track col.field) {
        <th (click)="onSort(col.field)">
          {{ col.header }}
          @if (sortKey === col.field) {
            <app-ui-icon [name]="sortOrder === 'asc' ? 'icon-sort-asc' : 'icon-sort-desc'"></app-ui-icon>
          }
        </th>
      }
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    @for (country of countries; track country.id) {
      <tr (click)="onRowClick(country)">
        <td>
          <input
            type="checkbox"
            [checked]="isSelected(country)"
            (change)="onToggleSelect(country, $event)"
            (click)="$event.stopPropagation()"
          />
        </td>
        @for (col of columns; track col.field) {
          <td>{{ getColValue(country, col.field) }}</td>
        }
        <td>
          <button class="btn btn--ghost btn--sm" (click)="onEdit(country); $event.stopPropagation()">
            <app-ui-icon icon="icon-edit"></app-ui-icon>
          </button>
          <button class="btn btn--ghost btn--sm btn--danger" (click)="onDelete(country); $event.stopPropagation()">
            <app-ui-icon icon="icon-trash"></app-ui-icon>
          </button>
        </td>
      </tr>
    }
  </tbody>
</table>