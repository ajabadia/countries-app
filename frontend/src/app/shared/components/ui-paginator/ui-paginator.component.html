<!-- File: d:\desarrollos\countries2\frontend\src\app\shared\components\ui-paginator\ui-paginator.component.html | Last Modified: 2025-10-19 -->

@if (uiPaginatorTotalRecords() > 0) {
  <nav class="ui-paginator" aria-label="Paginación">
    <!-- Resumen de registros -->
    <div class="ui-paginator__block">
      <span class="ui-paginator__summary">
        Mostrando <b>{{ startRecord() }} - {{ endRecord() }}</b> de <b>{{ uiPaginatorTotalRecords() }}</b>
      </span>
    </div>

    <!-- Controles de navegación -->
    <div class="ui-paginator__block ui-paginator__controls">
      <button
        app-ui-button
        [uiButtonVariant]="'ghost'"
        (click)="goToPage(1)"
        [disabled]="uiPaginatorPage() === 1"
        aria-label="Primera página"
      >
        <app-ui-icon [uiIconName]="'icon-first-page'"></app-ui-icon>
      </button>
      <button
        app-ui-button
        [uiButtonVariant]="'ghost'"
        (click)="goToPage(uiPaginatorPage() - 1)"
        [disabled]="uiPaginatorPage() === 1"
        aria-label="Página anterior"
      >
        <app-ui-icon [uiIconName]="'icon-chevron-left'"></app-ui-icon>
      </button>

      <span class="ui-paginator__block">
        <label for="pageInput" class="ui-paginator__label">Página</label>
        <input
          id="pageInput"
          class="ui-paginator__input"
          type="number"
          min="1"
          [max]="totalPages()"
          [value]="currentPageInputValue()"
          (change)="onGoToPageInputChange($event)"
          (keydown.enter)="onGoToPageInputChange($event)"
          aria-label="Página actual, de un total de {{totalPages()}}"
        />
        de {{ totalPages() }}
      </span>

      <button app-ui-button [uiButtonVariant]="'ghost'" (click)="goToPage(uiPaginatorPage() + 1)" [disabled]="uiPaginatorPage() === totalPages()" aria-label="Página siguiente">
        <app-ui-icon [uiIconName]="'icon-chevron-right'"></app-ui-icon>
      </button>
      <button app-ui-button [uiButtonVariant]="'ghost'" (click)="goToPage(totalPages())" [disabled]="uiPaginatorPage() === totalPages()" aria-label="Última página">
        <app-ui-icon [uiIconName]="'icon-last-page'"></app-ui-icon>
      </button>
    </div>

    <!-- Selector de tamaño de página -->
    <div class="ui-paginator__block">
      <label for="pageSizeSelect">Registros:</label>
      <select id="pageSizeSelect" class="ui-paginator__select" [ngModel]="uiPaginatorPageSize()" (ngModelChange)="onPageSizeChange(+$event)">
        @for (size of pageSizeOptions(); track size) {
          <option [value]="size">{{ size }}</option>
        }
      </select>
    </div>
  </nav>
}