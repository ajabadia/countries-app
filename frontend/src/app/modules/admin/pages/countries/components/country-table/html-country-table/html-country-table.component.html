<table class="country-table">
  <thead>
    <tr>
      <!-- Checkbox Seleccionar Todos -->
      <th>
        <input
          type="checkbox"
          [checked]="allSelected()"
          (change)="toggleAll($event)"
          title="Seleccionar todo"
        />
      </th>
      <!-- Cabeceras dinámicas según columns -->
      <th *ngFor="let col of columns">
        {{ col.header }}
        <!-- Botón ordenación -->
        <button
          *ngIf="col.sortable"
          (click)="onSortChange(col.field, sortKey === col.field && sortOrder === 'asc' ? 'desc' : 'asc')"
          [class.active]="sortKey === col.field"
          aria-label="Ordenar"
        >
          <app-ui-icon icon="icon-sort" [class.active]="sortKey === col.field"></app-ui-icon>
        </button>
      </th>
      <th>Editar</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let country of countries"
      [class.selected]="isSelected(country)"
      (click)="onRowClick(country)"
    >
      <td>
        <input
          type="checkbox"
          [checked]="isSelected(country)"
          (change)="onToggleSelect(country, $event)"
          title="Seleccionar país"
          (click)="$event.stopPropagation()"
        />
      </td>
      <!-- Celdas según columns -->
      <td *ngFor="let col of columns">
        {{ getColValue(country, col.field) }}
      </td>
      <td>
        <button (click)="onEdit(country); $event.stopPropagation()" title="Editar país">
          <app-ui-icon icon="icon-edit"></app-ui-icon>
        </button>
      </td>
    </tr>
    <tr *ngIf="countries.length === 0">
        <td [attr.colspan]="columns.length + 2">No hay países para mostrar.</td>

    </tr>
  </tbody>
</table>
