<!-- Fondo gris traslúcido -->
<div 
  class="modal-backdrop"
  *ngIf="visible"
  (click)="closeOnBackdrop && onBackdropClick($event)">
</div>

<!-- Contenedor centrado de la modal -->
<div
  class="modal-container"
  *ngIf="visible"
  [ngClass]="'modal--' + color"
  role="dialog"
  aria-modal="true"
>
  <!-- Cabecera -->
  <div class="modal-header" [ngClass]="'align-' + titleAlign">
    <ng-container *ngIf="icon && iconPosition === 'left'">
      <span class="modal-header-icon" [ngClass]="'icon-size-' + iconSize">
        <img [src]="'assets/icons/' + icon + '.svg'" alt="" />
      </span>
    </ng-container>
    <div class="modal-title" [ngClass]="'text-' + titleColor">
      {{ title }}
      <ng-container *ngIf="subtitle">
        <span class="modal-subtitle">{{ subtitle }}</span>
      </ng-container>
    </div>
    <ng-container *ngIf="showClose">
      <button type="button" class="modal-close" (click)="onClose()" aria-label="Cerrar">
        ×
      </button>
    </ng-container>
  </div>

  <!-- Cuerpo/modal body -->
  <div class="modal-body">
    <ng-content></ng-content>
  </div>

  <!-- Footer/botones -->
  <div class="modal-footer" *ngIf="showAccept || showClose">
    <button 
      *ngIf="showClose"
      type="button"
      class="btn modal-btn modal-btn--cancel"
      (click)="onClose()"
      [disabled]="false"
    >
      {{ closeLabel }}
    </button>
    <button
      *ngIf="showAccept"
      type="button"
      class="btn modal-btn modal-btn--accept"
      [disabled]="acceptDisabled"
      (click)="onAccept()"
    >
      {{ acceptLabel }}
    </button>
  </div>
</div>
