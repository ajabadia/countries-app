<!-- admin-menu.component.html -->
<nav class="admin-menu" aria-label="Menú de administración">
  <ul class="admin-menu__list" role="menubar">
    @for (item of items; track item.label) {
      <li class="admin-menu__item" role="none" [class.admin-menu__item--disabled]="item.disabled">
        <!-- Enlace interno con routerLink -->
        <a *ngIf="!item.external && item.route"
           class="admin-menu__link"
           [routerLink]="item.route"
           routerLinkActive="admin-menu__link--active"
           [routerLinkActiveOptions]="{ exact: true }"
           [attr.aria-current]="isActive(item) ? 'page' : null"
           [attr.tabindex]="item.disabled ? -1 : 0">
          <ng-container *ngTemplateOutlet="linkContent; context: { $implicit: item }"></ng-container>
        </a>

        <!-- Enlace externo con href -->
        <a *ngIf="item.external && item.route"
           class="admin-menu__link"
           [href]="item.route"
           target="_blank"
           rel="noopener noreferrer"
           [attr.tabindex]="item.disabled ? -1 : 0">
          <ng-container *ngTemplateOutlet="linkContent; context: { $implicit: item }"></ng-container>
        </a>
      </li>
    }
  </ul>
  @if (footer) {
    <div class="admin-menu__footer">{{ footer }}</div>
  }
</nav>

<!-- ✅ MEJORA: Plantilla reutilizable para el contenido del enlace -->
<ng-template #linkContent let-item>
  <app-ui-icon
    *ngIf="item.icon"
    class="admin-menu__icon"
    [icon]="item.icon"
    size="sm"
    aria-hidden="true"
  />
  <span class="admin-menu__label">{{ item.label }}</span>
</ng-template>
